import{_ as g,a as w}from"./mgr-9yS0AiJt.js";import{u as x,f as C}from"./use-api-CABo2mPT.js";import{u as V}from"./use-date-DVdoth2I.js";import{d as M,r as n,c as a,a6 as $,o as m,g as l,w as c,i as h,u as o,l as B,q as H}from"./vue-CtCNMA3P.js";import"./vue-router-0XY2QSw6.js";import"./bootstrap-vue-next-DWmnrxyd.js";import"./vueform-bjGVKQ0y.js";import"./axios-Bo0ATomq.js";import"./moment-Cl4UOzQZ.js";import"./popperjs-CBZXh9ac.js";import"./wnumb-BOjvQ4jq.js";import"./trix-ul_qCPMg.js";import"./nouislider-dfTmBPAg.js";import"./vue-toastification-BdZxUhs9.js";import"./codemirror-Dhbez0_B.js";import"./lezer-BmdiRFRL.js";import"./style-mod-Bc2inJdb.js";import"./w3c-keyname-Vcq4gwWv.js";import"./crelt-C8TCjufn.js";import"./vue-codemirror-DmWmgxNk.js";import"./ofetch-C3euP1G2.js";import"./destr-CVtkxrq9.js";import"./ufo-DbHr4xTX.js";const L=["innerHTML"],u="mgr/submissions",oe=M({__name:"submissions",setup(N){const e=x,s=n(),p=a(()=>[{key:"id",label:e("models.submission.id"),sortable:!0},{key:"form.title",label:e("models.form.title_one"),sortable:!0},{key:"emails_count",label:e("models.email.title_many"),sortable:!0},{key:"submitted_at",label:e("models.submission.submitted_at"),sortable:!0,formatter:V}]),d=a(()=>{var t;return[{route:{name:"submissions-id-view"},icon:"eye",title:e("actions.view")},{function:_,icon:"sync",title:e("actions.generate")},{function:(t=s.value)==null?void 0:t.delete,icon:"times",title:e("actions.delete"),variant:"danger"}]}),f=n({query:""}),i=n(0);function _(t){i.value=t.id}async function b(){try{await C(u+"/"+i.value),s.value.refresh()}catch{}}return(t,r)=>{const v=$("RouterView"),y=g,k=w;return m(),l(k,{ref_key:"table",ref:s,url:u,"table-actions":o(d),fields:o(p),filters:o(f),sort:"id",dir:"desc"},{default:c(()=>[h(v),o(i)>0?(m(),l(y,{key:0,"ok-variant":"warning","on-ok":b,onHidden:r[0]||(r[0]=T=>i.value=0)},{default:c(()=>[B("div",{innerHTML:o(e)("models.submission.confirm_generate")},null,8,L)]),_:1})):H("",!0)]),_:1},8,["table-actions","fields","filters"])}}});export{oe as default};
