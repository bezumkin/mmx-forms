import{B as f,Q as b}from"./vesp-CLDkAOxJ.js";import{k as h}from"./vue-bootstrap-D2z_AtZI.js";import{a as y}from"./vue-router-DckAT0cK.js";import{E as w,c as g}from"./api-D8AG11w8.js";import{d as x,z as B,ag as k,o as i,b as m,w as c,q as C,u as e,i as d,f as z,h as N}from"./vue-Do7iJWfj.js";import"./vueform-DkNO5U-c.js";const V=["srcdoc"],v={style:{"white-space":"pre-line"},class:"p-2 border rounded bg-light"},F=x({__name:"view",async setup(M){let o,l;const t=B({}),p="mgr/emails/"+y().params.id,a=g;try{t.value=([o,l]=k(()=>w(p)),o=await o,l(),o)}catch{f()}function _({target:r}){var s;r.style.height=((s=r.contentWindow)==null?void 0:s.document.body.scrollHeight)+"px"}return(r,s)=>{const n=h,u=b;return i(),m(u,{title:e(t).subject,size:"lg","cancel-title":e(a)("actions.close")},{default:c(()=>[C(n,{label:e(a)("models.email.body")},{default:c(()=>[d("iframe",{class:"w-100 border-0",srcdoc:e(t).body,onLoad:_},null,40,V)]),_:1},8,["label"]),e(t).error?(i(),m(n,{key:0,label:e(a)("models.email.error")},{default:c(()=>[d("pre",v,z(e(t).error),1)]),_:1},8,["label"])):N("",!0)]),_:1},8,["title","cancel-title"])}}});export{F as default};
